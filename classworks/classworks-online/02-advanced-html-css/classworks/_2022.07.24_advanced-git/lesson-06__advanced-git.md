# Advanced Git
Git - это программа, которая позволяет многим разработчикам писать один и тот же проект, и не перебрасывать друг другу код архивами, а упорядоченно сохранять и синхронизировать все изменения, которые были внесены в проект.

Для того, чтобы это можно было воплотить в жизнь, нужно понять что такое ветвления, как ими пользоваться, как собирать несколько ветвлений в одно и тд

### Что такое ветка/ветвление?
_**Branch**_ _(ветка)_ - это версия проекта, имеющая название. В одном и том же проекте может быть много веток, и между ними можно переключаться. Когда вы переключаетесь на другую ветку - версия кода динамически меняется на компьютере. Ветки могут быть локальными и удаленными. Так же как репозиторий есть локальный и удаленный, так и ветки в нем могут храниться только локально, только удаленно, и также и локально и удаленно.

Ветки нужны для того, чтобы выполнять разные задачи параллельно. 

Вот есть разработчик Коля, у него задача написать логику добавления товаров в корзину. А у разработчика Остапа задача - добавление товара в избранное.

Задачи разные, но связаны с одной и той же сущностью - Товар. По этому лучше будет Остапу и Коле заиметь свои ветки, поработать в них и, когда прийдет время их тимлид смерджит обе эти ветки с `master`-ом и готовы йработающий код уйдет в продакшн.

### Что значит смерджить?
В этой операции участвую две ветки. Из одной веки изменения должны попасть в другую. Т.е. когда наступает момент и код Остапа должен оказаться в главной ветке `master`, нужно правильно играмотно это сделать.

Остапу нужно аутуализировать весь код проекта, помимо того, что он написал. Ведь за период выполнения его задачи могло произойти/измениться что угодно.

Для этого и делается `merge`. Т.е. все, что Остап на ветке у себя разработал - останется там. Обновлены будут только файлы, к которым он не прикосался. 

За такую функцию отвечает команда `git merge`, где после слова `merge` нужно указать название ветки, которую мы мерджим в текущую. 

Текущая ветка - та, на которой разработчик находится сейчас, на которой вносит свои изменения.

Остап работает в ветке `form-validation` и настала пора ему мерджить свою ветку с мастером и создавать pull-request.

Остап открывает консоль в проекта, убеждается что он в нужной ветке, потом:

`git merge origin master` - где `origin` говорит о том, что мерджить нужно с веткой master, которая на удаленном репозитории. По-умолчанию удаленному репозиторию в системе git присваивается имя `origin`.

После выполнения этой команды - все текущие обновления с ветки `master` успешно транспортированы Остапу в ветку.

**Конфликты** могут возникнуть, если кто-то поработал в файлах, за которые отвечал Остап, или он сам перед merge-м забыл сделать коммит.

### Что такое pull-request?
Слегка напоминает темы на старых форумах, в котрых могли создавать беседы.

Создает его разработчик, после первого коммита в ветку. Иногда это делают непосредственно перед тем, как работа на ветке готова будет слитсья с веткой `master`. Это зависит от договоренностей в команде.

Нужен pull-request для того, чтобы проверить все ли окей с кодом Остапа, перед тем как мерджить его ветку в ветку `master`.

В настройках репозитория задается количество одобрительных review, которое нужно для того, чтобы мерджить в защищенную ветку.

**Защищенная ветка** - ветка, `git push` в которую запрещен в настройках репозитоиря. Код туда может попасть только пройдя pull-request.

### Как предотвращать появление конфликтов
Чтобы их не возникало, важно построить работу в своей ветке так, чтобы всегда держать актуальным код. 

Каждый раз, когда садитесь писать код, или когда заканчиваете работать:
 - `git commit` - сохраняем все, что писал, даже если еще не закончено или в какой-то промежуточной стадии
 - `git merge origin master` - обновляем весь код проекта. В случае если какой-то из pull-request-ов был принял и в master попали новые изменения - они попадут к Вам в ветку.
 
После этого можно спокойно продолжать работать дальше.

Некоторые команды договариваются обновлять master в строго опредленные часы, кому-то удобнее отслеживать это по уведомлениям на почте. Рецептов много, а суть не меняется - если на Вашей ветке нет конфликтов после мерджа с матсер веткой, то вероятнее всего их не возникнет и после одобрения pull-request-a. 